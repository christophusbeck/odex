{% extends 'layout.html' %}


{% block content %}
    <div class="detail">
        <h1 align="center">Statistics: {{ exp.run_name }}</h1>
        <h1 align="center">{{ exp.state }}a</h1>

        <h3>Selected Database: {{ exp.file_name }} </h3>
        <h3>Detected Subspaces: </h3>
        <table class="table table-bordered" align="center" border="1">
            <thead>
            <tr>
                <th>Subspaces on *.csv</th>
                <th>Indexing</th>
            </tr>
            </thead>
            <tbody>
            <br>
            {% for column in columns %}
                <tr>
                    <td>{{ column }}</td>
                    <td>{{ forloop.counter }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        <h3>Selected Subspaces: {{ exp.operation }} </h3>
        <h3>Selected ODM: {{ exp.odm }}</h3>
        <table class="table table-bordered" border="1">
            <thead>
            <tr>
                <th>parameter</th>
                <th>Value</th>
            </tr>
            </thead>
            <tbody>
            <br>
            {% for key,value in paras.items %}
                <tr>
                    <td>{{ key }}</td>
                    <td>{{ value }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        {% if queryset.state == "finished" %}
            <h3>Detected outliers: </h3>
            <button type="button">Download detected outliers as *.csv</button>
            {% if queryset.ground_truth != None %}
                <h3>Performance based on ground truth file: </h3>
            {% endif %}

            {% if queryset.generated_file != None %}
                <h3>Detected outliers after merging with generated data: </h3>
                <button type="button">Download detected outliers as *.csv</button>
                <h3>ROC curve: </h3>
            {% endif %}

        {% endif %}

        <a href="/main/" style="margin-right: 500px">
            <button type="button" value="cancel" style="float: right">Return</button>
        </a>

    </div>
{% endblock %}